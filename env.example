# ========================================
# CONFIGURAÇÕES DO BANCO DE DADOS
# ========================================
# Banco principal: oracle (view TASY + agenda_consulta)
DATABASE_TYPE=oracle

# Oracle Database (usado quando DATABASE_TYPE=oracle)
ORACLE_URL=oracle+cx_oracle://username:password@host:port/service_name

# PostgreSQL Database (usado quando DATABASE_TYPE=postgresql)
POSTGRESQL_URL=postgresql://postgres:1234@localhost:5432/confirmacao_consultas

# Firebird Database (usado quando DATABASE_TYPE=firebird)
FIREBIRD_URL=firebird://username:password@localhost:3050/hospital_db

# URL genérica (fallback para compatibilidade)
DATABASE_URL=postgresql://postgres:1234@localhost:5432/santaCasa

# ========================================
# CONFIGURAÇÕES BOTCONVERSA
# ========================================
BOTCONVERSA_API_URL=https://api.botconversa.com.br/v1
BOTCONVERSA_WEBHOOK_SECRET=your_botconversa_webhook_secret
BOTCONVERSA_API_KEY=be4844e4-6e0d-4cf2-9118-9be35304d067
<<<<<<< HEAD
# Após enviar lembrete, a app envia nr_sequencia ao Botconversa (PATCH subscriber).
# Confira na documentação do Botconversa o endpoint/campo para o webhook devolver nr_sequencia.
=======
BOTCONVERSA_FLOW_ID=12345  # ID do fluxo interativo para confirmação de consultas
>>>>>>> d68998a574fb5f1a3f9edc3be084d95b00ad7be4

# ========================================
# CONFIGURAÇÕES DA APLICAÇÃO
# ========================================
APP_SECRET_KEY=your_secret_key_here
DEBUG=True
LOG_LEVEL=INFO

# ========================================
# CONFIGURAÇÕES DO HOSPITAL
# ========================================
HOSPITAL_NAME=Santa Casa de Belo Horizonte
HOSPITAL_PHONE=(31) 3238-8100
HOSPITAL_ADDRESS=Rua Domingos Vieira, 590 - Santa Efigênia
HOSPITAL_CITY=Belo Horizonte
HOSPITAL_STATE=MG

# ========================================
# CONFIGURAÇÕES DO SCHEDULER
# ========================================
# Horário para envio de confirmações (diariamente)
SCHEDULER_CONFIRMATION_HOUR=9
SCHEDULER_CONFIRMATION_MINUTE=0

# Horário para envio de lembretes (diariamente)
SCHEDULER_REMINDER_HOUR=14
SCHEDULER_REMINDER_MINUTE=0

# Habilitar/desabilitar jobs
SCHEDULER_ENABLE_CONFIRMATION_JOB=True
SCHEDULER_ENABLE_REMINDER_JOB=True

# SQLite (controle de envios 48h/12h - lembretes por view)
SQLITE_URL=sqlite:///./data/envios_lembrete.db

# View de confirmação no banco principal (Oracle)
VIEW_CONFIRMACAO_NOME=TASY.AVA_CONFIRMACAO_CONSULTA

# Tabela agenda_consulta para UPDATE de confirmação (Oracle)
TABELA_AGENDA_CONSULTA=TASY.AGENDA_CONSULTA

# Intervalo (minutos) para consultar a view e processar lembretes 48h/12h
VIEW_POLL_INTERVAL_MINUTES=5

# Se False, a app não cria tabelas (atendimentos, etc.) no banco - use quando só tiver view + agenda_consulta
CREATE_APP_TABLES=True

# Configurações de intervalo (em horas)
REMINDER_INTERVAL_HOURS=24
CONFIRMATION_WINDOW_HOURS=72

# ========================================
# CONFIGURAÇÕES DO WEBHOOK
# ========================================
WEBHOOK_HOST=0.0.0.0
WEBHOOK_PORT=5001
WEBHOOK_URL=https://meuservidor.com/webhook/botconversa

# ========================================
# CONFIGURAÇÕES DOCKER - MÚLTIPLOS BANCOS
# ========================================

# Deve ser igual ao banco principal (oracle)
DOCKER_DATABASE_TYPE=oracle

# ========================================
# ORACLE DOCKER
# ========================================
ORACLE_DOCKER_HOST=db-oracle
ORACLE_DOCKER_PORT=1521
ORACLE_DOCKER_SERVICE=XE
ORACLE_DOCKER_USER=system
ORACLE_DOCKER_PASSWORD=oracle

# ========================================
# POSTGRESQL DOCKER
# ========================================
POSTGRESQL_DOCKER_HOST=db-postgresql
POSTGRESQL_DOCKER_PORT=5432
POSTGRESQL_DOCKER_DB=confirmacao_consultas
POSTGRESQL_DOCKER_USER=postgres
POSTGRESQL_DOCKER_PASSWORD=1234

# ========================================
# FIREBIRD DOCKER
# ========================================
FIREBIRD_DOCKER_HOST=db-firebird
FIREBIRD_DOCKER_PORT=3050
FIREBIRD_DOCKER_DB=hospital_db
FIREBIRD_DOCKER_USER=SYSDBA
FIREBIRD_DOCKER_PASSWORD=masterkey

# ========================================
# CONFIGURAÇÕES GERAIS DOCKER
# ========================================
APP_PORT=5001
NGINX_PORT=80
MAX_WORKERS=4
WORKER_TIMEOUT=30 